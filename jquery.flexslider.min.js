/*
 * jQuery FlexSlider v1.8
 * http://flex.madebymufffin.com
 *
 * Copyright 2011, Tyler Smith
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Contrib: Darin Richardson
 */(function(a){a.flexslider=function(b,c){var d=b,e=this;d.init=function(){d.vars=a.extend({},a.flexslider.defaults,c),d.data("flexslider",!0),d.container=a(".slides",d),d.slides=a(".slides > li",d),d.count=d.slides.length,d.animating=!1,d.currentSlide=d.vars.slideToStart,d.animatingTo=d.currentSlide,d.atEnd=d.currentSlide==0?!0:!1,d.eventType="ontouchstart"in document.documentElement?"touchstart":"click",d.cloneCount=0,d.cloneOffset=0,d.manualPause=!1,d.vertical=d.vars.slideDirection=="vertical",d.prop=d.vertical?"top":"marginLeft",d.args={},d.transitions="webkitTransition"in document.body.style,d.transitions&&(d.prop="-webkit-transform"),d.vars.controlsContainer!=""&&(d.controlsContainer=a(d.vars.controlsContainer).eq(a(".slides").index(d.container)),d.containerExists=d.controlsContainer.length>0),d.vars.manualControls!=""&&(d.manualControls=a(d.vars.manualControls,d.containerExists?d.controlsContainer:d),d.manualExists=d.manualControls.length>0),d.vars.randomize&&(d.slides.sort(function(){return Math.round(Math.random())-.5}),d.container.empty().append(d.slides));if(d.vars.animation.toLowerCase()=="slide"){d.transitions&&d.setTransition(0),d.css({overflow:"hidden"}),d.vars.animationLoop&&(d.cloneCount=2,d.cloneOffset=1,d.container.append(d.slides.filter(":first").clone().addClass("clone")).prepend(d.slides.filter(":last").clone().addClass("clone"))),d.newSlides=a(".slides > li",d);var b=-1*(d.currentSlide+d.cloneOffset);d.vertical?(d.newSlides.css({display:"block",width:"100%","float":"left"}),d.container.height((d.count+d.cloneCount)*200+"%").css("position","absolute").width("100%"),setTimeout(function(){d.css({position:"relative"}).height(d.slides.filter(":first").height()),d.args[d.prop]=d.transitions?"translate3d(0,"+b*d.height()+"px,0)":b*d.height()+"px",d.container.css(d.args)},100)):(d.args[d.prop]=d.transitions?"translate3d("+b*d.width()+"px,0,0)":b*d.width()+"px",d.container.width((d.count+d.cloneCount)*200+"%").css(d.args),setTimeout(function(){d.newSlides.width(d.width()).css({"float":"left",display:"block"})},100))}else d.transitions=!1,d.slides.css({width:"100%","float":"left",marginRight:"-100%"}).eq(d.currentSlide).fadeIn(d.vars.animationDuration);if(d.vars.controlNav){if(d.manualExists)d.controlNav=d.manualControls;else{var f=a('<ol class="flex-control-nav"></ol>'),g=1;for(var h=0;h<d.count;h++)f.append("<li><a>"+g+"</a></li>"),g++;d.containerExists?(a(d.controlsContainer).append(f),d.controlNav=a(".flex-control-nav li a",d.controlsContainer)):(d.append(f),d.controlNav=a(".flex-control-nav li a",d))}d.controlNav.eq(d.currentSlide).addClass("active"),d.controlNav.on(d.eventType,function(b){b.preventDefault(),a(this).hasClass("active")||(d.controlNav.index(a(this))>d.currentSlide?d.direction="next":d.direction="prev",d.flexAnimate(d.controlNav.index(a(this)),d.vars.pauseOnAction))})}if(d.vars.directionNav){var i=a('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+d.vars.prevText+'</a></li><li><a class="next" href="#">'+d.vars.nextText+"</a></li></ul>");d.containerExists?(a(d.controlsContainer).append(i),d.directionNav=a(".flex-direction-nav li a",d.controlsContainer)):(d.append(i),d.directionNav=a(".flex-direction-nav li a",d)),d.vars.animationLoop||(d.currentSlide==0?d.directionNav.filter(".prev").addClass("disabled"):d.currentSlide==d.count-1&&d.directionNav.filter(".next").addClass("disabled")),d.directionNav.on(d.eventType,function(b){b.preventDefault();var c=a(this).hasClass("next")?d.getTarget("next"):d.getTarget("prev");d.canAdvance(c)&&d.flexAnimate(c,d.vars.pauseOnAction)})}if(d.vars.keyboardNav&&a("ul.slides").length==1){function j(a){if(d.animating)return;if(a.keyCode!=39&&a.keyCode!=37)return;if(a.keyCode==39)var b=d.getTarget("next");else if(a.keyCode==37)var b=d.getTarget("prev");d.canAdvance(b)&&d.flexAnimate(b,d.vars.pauseOnAction)}a(document).on("keyup",j)}d.vars.mousewheel&&(d.mousewheelEvent=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",d.on(d.mousewheelEvent,function(a){a.preventDefault(),a=a?a:window.event;var b=a.detail?a.detail*-1:a.wheelDelta/40,c=b<0?d.getTarget("next"):d.getTarget("prev");d.canAdvance(c)&&d.flexAnimate(c,d.vars.pauseOnAction)})),d.vars.slideshow&&(d.vars.pauseOnHover&&d.vars.slideshow&&d.hover(function(){d.pause()},function(){d.manualPause||d.resume()}),d.animatedSlides=setInterval(d.animateSlides,d.vars.slideshowSpeed));if(d.vars.pausePlay){var k=a('<div class="flex-pauseplay"><span></span></div>');d.containerExists?(d.controlsContainer.append(k),d.pausePlay=a(".flex-pauseplay span",d.controlsContainer)):(d.append(k),d.pausePlay=a(".flex-pauseplay span",d));var l=d.vars.slideshow?"pause":"play";d.pausePlay.addClass(l).text(l=="pause"?d.vars.pauseText:d.vars.playText),d.pausePlay.on(d.eventType,function(b){b.preventDefault(),a(this).hasClass("pause")?(d.pause(),d.manualPause=!0):(d.resume(),d.manualPause=!1)})}if("ontouchstart"in document.documentElement){var m,n,o,p,q,r,s=!1;d.each(function(){"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",t,!1)});function t(a){d.animating?a.preventDefault():a.touches.length==1&&(d.pause(),p=d.vertical?d.height():d.width(),r=Number(new Date),o=d.vertical?(d.currentSlide+d.cloneOffset)*d.height():(d.currentSlide+d.cloneOffset)*d.width(),m=d.vertical?a.touches[0].pageY:a.touches[0].pageX,n=d.vertical?a.touches[0].pageX:a.touches[0].pageY,d.setTransition(0),this.addEventListener("touchmove",u,!1),this.addEventListener("touchend",v,!1))}function u(a){q=d.vertical?m-a.touches[0].pageY:m-a.touches[0].pageX,s=d.vertical?Math.abs(q)<Math.abs(a.touches[0].pageX-n):Math.abs(q)<Math.abs(a.touches[0].pageY-n),s||(a.preventDefault(),d.vars.animation=="slide"&&d.transitions&&(d.vars.animationLoop||(q/=d.currentSlide==0&&q<0||d.currentSlide==d.count-1&&q>0?Math.abs(q)/p+2:1),d.args[d.prop]=d.vertical?"translate3d(0,"+(-o-q)+"px,0)":"translate3d("+(-o-q)+"px,0,0)",d.container.css(d.args)))}function v(a){d.animating=!1;if(d.animatingTo==d.currentSlide&&!s&&q!=null){var b=q>0?d.getTarget("next"):d.getTarget("prev");d.canAdvance(b)&&Number(new Date)-r<550&&Math.abs(q)>20||Math.abs(q)>p/2?d.flexAnimate(b,d.vars.pauseOnAction):d.flexAnimate(d.currentSlide,d.vars.pauseOnAction)}this.removeEventListener("touchmove",u,!1),this.removeEventListener("touchend",v,!1),m=null,n=null,q=null,o=null}}d.vars.animation.toLowerCase()=="slide"&&a(window).resize(function(){d.animating||(d.vertical?(d.height(d.slides.filter(":first").height()),d.args[d.prop]=-1*(d.currentSlide+d.cloneOffset)*d.slides.filter(":first").height()+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args)):(d.newSlides.width(d.width()),d.args[d.prop]=-1*(d.currentSlide+d.cloneOffset)*d.width()+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args)))}),e.destroy=function(){d.pause(),d.controlNav&&d.vars.manualControls==""&&d.controlNav.closest(".flex-control-nav").remove(),d.directionNav&&d.directionNav.closest(".flex-direction-nav").remove(),d.vars.pausePlay&&d.pausePlay.closest(".flex-pauseplay").remove(),d.vars.keyboardNav&&a("ul.slides").length==1&&a(document).off("keyup",j),d.vars.mousewheel&&d.off(d.mousewheelEvent),d.transitions&&d.each(function(){this.removeEventListener("touchstart",t,!1)}),d.vars.animation=="slide"&&d.vars.animationLoop&&d.newSlides.filter(".clone").remove(),d.vertical&&d.height("auto"),d.slides.hide(),d.removeData("flexslider"),d.vars.destroyed(d)},d.vars.start(d)},d.flexAnimate=function(a,b){if(!d.animating){d.animating=!0,d.animatingTo=a,d.vars.before(d),b&&d.pause(),d.vars.controlNav&&d.controlNav.removeClass("active").eq(a).addClass("active"),d.atEnd=a==0||a==d.count-1?!0:!1,!d.vars.animationLoop&&d.vars.directionNav&&(a==0?d.directionNav.removeClass("disabled").filter(".prev").addClass("disabled"):a==d.count-1?d.directionNav.removeClass("disabled").filter(".next").addClass("disabled"):d.directionNav.removeClass("disabled")),!d.vars.animationLoop&&a==d.count-1&&(d.pause(),d.vars.end(d));if(d.vars.animation.toLowerCase()=="slide"){var c=d.vertical?d.slides.filter(":first").height():d.slides.filter(":first").width();d.currentSlide==0&&a==d.count-1&&d.vars.animationLoop&&d.direction!="next"?d.slideString="0px":d.currentSlide==d.count-1&&a==0&&d.vars.animationLoop&&d.direction!="prev"?d.slideString=-1*(d.count+1)*c+"px":d.slideString=-1*(a+d.cloneOffset)*c+"px",d.args[d.prop]=d.slideString,d.transitions?(d.setTransition(d.vars.animationDuration),d.args[d.prop]=d.vertical?"translate3d(0,"+d.slideString+",0)":"translate3d("+d.slideString+",0,0)",d.container.css(d.args).one("webkitTransitionEnd transitionend",function(){d.wrapup(c)})):d.container.animate(d.args,d.vars.animationDuration,function(){d.wrapup(c)})}else d.slides.eq(d.currentSlide).fadeOut(d.vars.animationDuration),d.slides.eq(a).fadeIn(d.vars.animationDuration,function(){d.wrapup()})}},d.wrapup=function(a){d.vars.animation=="slide"&&(d.currentSlide==0&&d.animatingTo==d.count-1&&d.vars.animationLoop?(d.args[d.prop]=-1*d.count*a+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args)):d.currentSlide==d.count-1&&d.animatingTo==0&&d.vars.animationLoop&&(d.args[d.prop]=-1*a+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args))),d.animating=!1,d.currentSlide=d.animatingTo,d.vars.after(d)},d.animateSlides=function(){d.animating||d.flexAnimate(d.getTarget("next"))},d.pause=function(){clearInterval(d.animatedSlides),d.vars.pausePlay&&d.pausePlay.removeClass("pause").addClass("play").text(d.vars.playText)},d.resume=function(){d.animatedSlides=setInterval(d.animateSlides,d.vars.slideshowSpeed),d.vars.pausePlay&&d.pausePlay.removeClass("play").addClass("pause").text(d.vars.pauseText)},d.canAdvance=function(a){return!d.vars.animationLoop&&d.atEnd?d.currentSlide==0&&a==d.count-1&&d.direction!="next"?!1:d.currentSlide==d.count-1&&a==0&&d.direction=="next"?!1:!0:!0},d.getTarget=function(a){return d.direction=a,a=="next"?d.currentSlide==d.count-1?0:d.currentSlide+1:d.currentSlide==0?d.count-1:d.currentSlide-1},d.setTransition=function(a){d.container.css({"-webkit-transition-duration":a/1e3+"s"})},d.init()},a.flexslider.defaults={animation:"fade",slideDirection:"horizontal",slideshow:!0,slideshowSpeed:7e3,animationDuration:600,directionNav:!0,controlNav:!0,keyboardNav:!0,mousewheel:!1,prevText:"Previous",nextText:"Next",pausePlay:!1,pauseText:"Pause",playText:"Play",randomize:!1,slideToStart:0,animationLoop:!0,pauseOnAction:!0,pauseOnHover:!1,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){},destroyed:function(){}},a.fn.flexslider=function(b){return this.each(function(){if(a(this).find(".slides li").length==1)a(this).find(".slides li").fadeIn(400);else if(a(this).data("flexslider")!=1){var c=new a.flexslider(a(this),b);a(this).data("flexslider-api",c)}})}})(jQuery);